# RRWeb React Kit

ä¸€ä¸ªåŸºäº React + TypeScript + [rrweb](https://github.com/rrweb-io/rrweb) çš„ç½‘é¡µå½•åˆ¶ä¸å›æ”¾å·¥å…·åŒ…ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ¯ **ç®€å•æ˜“ç”¨** - æä¾› React Hooks å’Œç»„ä»¶ä¸¤ç§ä½¿ç”¨æ–¹å¼
- ğŸ“¹ **å½•åˆ¶åŠŸèƒ½** - å®Œæ•´å½•åˆ¶ç”¨æˆ·æ“ä½œï¼ŒåŒ…æ‹¬ç‚¹å‡»ã€è¾“å…¥ã€æ»šåŠ¨ç­‰
- â–¶ï¸ **å›æ”¾åŠŸèƒ½** - ç²¾ç¡®å›æ”¾ç”¨æˆ·æ“ä½œï¼Œæ”¯æŒæ’­æ”¾æ§åˆ¶ï¼ˆå€é€Ÿã€è·³è¿›åº¦ï¼‰
- âš¡ **é«˜æ€§èƒ½** - åŸºäºå¹³ç¨³æ¸²æŸ“æ¶æ„ï¼Œç¡®ä¿æ’­æ”¾æ—¶ç•Œé¢äº¤äº’ä¸å¡é¡¿
- ğŸ“˜ **TypeScript** - å®Œæ•´çš„ç±»å‹å®šä¹‰æ”¯æŒ
- ğŸ¨ **ç°ä»£åŒ– UI** - é¢„è®¾ç¾è§‚çš„å½•åˆ¶ä¸å›æ”¾ç•Œé¢


## ğŸš€ å¿«é€Ÿå¯åŠ¨

åªéœ€ä¸‰æ­¥å³å¯åœ¨æœ¬åœ°å¯åŠ¨å¹¶ä½“éªŒå½•åˆ¶å›æ”¾åŠŸèƒ½ï¼š

```bash
# 1. å…‹éš†å¹¶è¿›å…¥é¡¹ç›®ç›®å½•
cd rrweb-react-kit

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å¯åŠ¨åï¼Œè®¿é—®æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºçš„åœ°å€ï¼ˆé€šå¸¸æ˜¯ `http://localhost:5173`ï¼‰å³å¯è¿›å…¥æ¼”ç¤ºç•Œé¢ã€‚


##  API å‚è€ƒ

### `useRecorder()`
è¿”å›å½•åˆ¶ç›¸å…³çš„çŠ¶æ€ä¸æ§åˆ¶æ–¹æ³•ã€‚

| å±æ€§ | ç±»å‹ | æè¿° |
|------|------|------|
| `isRecording` | `boolean` | æ˜¯å¦æ­£åœ¨å½•åˆ¶ |
| `events` | `eventWithTime[]` | å½“å‰å½•åˆ¶æ•è·çš„äº‹ä»¶åºåˆ— |
| `startRecording` | `() => void` | æ¸…ç©ºå†å²å¹¶å¼€å§‹æ–°å½•åˆ¶ |
| `stopRecording` | `() => void` | åœæ­¢å½“å‰å½•åˆ¶ |
| `clearEvents` | `() => void` | æ‰‹åŠ¨æ¸…ç©ºå·²å½•åˆ¶çš„äº‹ä»¶ |
| `getRecordingDuration`| `() => number` | è·å–å½“å‰å½•åˆ¶çš„æ—¶é•¿ (ms) |

### `usePlayer(events)`
è¿”å›æ’­æ”¾å™¨ç›¸å…³çš„çŠ¶æ€ä¸æ§åˆ¶æ–¹æ³•ã€‚

| å±æ€§ | ç±»å‹ | æè¿° |
|------|------|------|
| `containerRef` | `RefObject` | å¿…é¡»ç»‘å®šåˆ°æ’­æ”¾å®¹å™¨çš„ `ref` ä¸Š |
| `status.isPlaying` | `boolean` | æ˜¯å¦æ­£åœ¨æ’­æ”¾ |
| `status.currentTime` | `number` | å½“å‰ç‚¹å‡»æ’­æ”¾æ—¶é—´æˆ³ (ms) |
| `status.totalTime` | `number` | å½•åˆ¶æ€»æ—¶é•¿ (ms) |
| `status.progress` | `number` | æ’­æ”¾ç™¾åˆ†æ¯” (0-100) |
| `status.speed` | `number` | å½“å‰æ’­æ”¾å€é€Ÿ |
| `controls.play` | `() => void` | å¼€å§‹æ’­æ”¾ |
| `controls.pause` | `() => void` | æš‚åœæ’­æ”¾ |
| `controls.reset` | `() => void` | å›åˆ°èµ·ç‚¹å¹¶åœæ­¢ |
| `controls.seek` | `(ms: number) => void` | è·³è½¬åˆ°æŒ‡å®šæ¯«ç§’ |
| `controls.seekToProgress`| `(p: number) => void`| ä¾æ®è¿›åº¦è·³è½¬ (0-100) |
| `controls.setSpeed` | `(v: number) => void`| è®¾ç½®æ’­æ”¾å€é€Ÿ (1, 2, 4...) |

## ğŸ—ï¸ ç›®å½•ç»“æ„è¯´æ˜

- `src/hooks`: æ ¸å¿ƒé€»è¾‘æŠ½è±¡ï¼ŒåŒ…å« `useRecorder` å’Œ `usePlayer`ã€‚
- `src/components`: UI ç»„ä»¶å°è£…ï¼ŒåŒ…å«å¸ƒå±€ä¸å›æ”¾æ§ä»¶ã€‚
- `docs`: åŒ…å«è¯¦å°½çš„ [æ¶æ„](./docs/architecture.md)ã€[è®¾è®¡](./docs/design.md)ä¸[ç”¨æˆ·æ‰‹å†Œ](./docs/user_manual.md)ã€‚
